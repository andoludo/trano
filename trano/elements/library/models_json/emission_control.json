{
    "components": [
        {
            "classes": [
                "EmissionControl"
            ],
            "component_template": {
                "bus": {
                    "real_inputs": [
                        {
                            "component": "emissionControl",
                            "default": 298.15,
                            "name": "TCooSet",
                            "port": "TCooSet",
                            "target": {
                                "main": "element.space_name"
                            }
                        },
                        {
                            "component": "emissionControl",
                            "name": "TZon",
                            "port": "TZon",
                            "target": {
                                "main": "element.space_name"
                            }
                        }
                    ],
                    "real_outputs": [
                        {
                            "component": "emissionControl",
                            "name": "yCoo",
                            "port": "yCoo",
                            "target": {
                                "main": "element.controllable_element.name"
                            }
                        },
                        {
                            "component": "emissionControl",
                            "name": "yHea",
                            "port": "yHea",
                            "target": {
                                "main": "element.controllable_element.name"
                            }
                        }
                    ]
                },
                "category": "control",
                "template": "model EmissionControl{{ element.name | capitalize}}\n  parameter Real schedule[:]=3600*{7,19};\n\n  parameter   Modelica.Units.SI.Temperature THeaSet= 273.15+24;\n    parameter   Modelica.Units.SI.Temperature THeaSetBack= 273.15+16;\nBuildings.Controls.OBC.ASHRAE.G36.ThermalZones.ControlLoops\nemissionControl\n{% raw %}annotation (Placement(transformation(extent={{-36,-36},{28,38}}))); {% endraw %}\nModelica.Blocks.Interfaces.RealOutput y\n{% raw %}annotation (Placement(transformation(extent={{100,-8},{120,12}})));{% endraw %}\n{% raw %}\n\n  Buildings.Controls.SetPoints.OccupancySchedule\n                                   occSch2(firstEntryOccupied=true, occupancy=\n        schedule)\n\nannotation (Placement(transformation(extent={{-116,-36},{-96,-16}})));\n  Buildings.Controls.OBC.CDL.Reals.Switch switch2\nannotation (Placement(transformation(extent={{-70,-26},{-50,-6}})));\n  Buildings.Controls.OBC.CDL.Reals.Sources.Constant setpoint(k=THeaSet)\n    \"Heat gain if occupied in room 2\"\n    annotation (Placement(transformation(extent={{-116,14},{-96,34}})));\n  Buildings.Controls.OBC.CDL.Reals.Sources.Constant setback(k=THeaSetBack)\n    \"Heat gain if occupied in room 2\"\n    annotation (Placement(transformation(extent={{-112,-82},{-92,-62}})));\n{% endraw %}\n{{bus_template}}\nequation\nconnect(emissionControl.yHea, y) {% raw %}annotation (Line(points={{34.4,-21.2},{96,-21.2},\n{96,2},{110,2}}, color={0,0,127}));{% endraw %}\n{% raw %}\n  connect(\nemissionControl.yHea, y) annotation (Line(points={{60.4,-21.2},{96,-21.2},{96,2},\n          {110,2}}, color={0,0,127}));\n  connect(occSch2.\n              occupied, switch2.u2) annotation (Line(\n  points={{-95,-32},{-78,-32},{-78,-16},{-72,-16}},\n  color={255,0,255},\n  smooth=Smooth.None));\n  connect(setpoint.y, switch2.u1) annotation (Line(points={{-94,24},{-90,24},{-90,\n          -8},{-72,-8}}, color={0,0,127}));\n  connect(setback.y, switch2.u3)\n    annotation (Line(points={{-90,-72},{-72,-72},{-72,-24}}, color={0,0,127}));\n      connect(switch2.y, emissionControl.THeaSet) annotation (Line(points={{-52,-22},\n          {-52,-21.2},{-42.4,-21.2}}, color={0,0,127}));\n    {% endraw %}\n{{bus_ports | safe}}\nend EmissionControl{{ element.name  | capitalize}};"
            },
            "figures": [
                {
                    "left_axis": {
                        "label": "Control signal [-]",
                        "lines": [
                            {
                                "label": "Control signal [-]",
                                "template": "{{ element.name }}.y"
                            }
                        ]
                    },
                    "right_axis": {
                        "label": "Zone controller input [K]",
                        "lines": [
                            {
                                "label": "Zone controller setpoint [K]",
                                "template": "{{ element.name }}.emissionControl.conHea.u_s"
                            },
                            {
                                "label": "Zone controller measured [K]",
                                "template": "{{ element.name }}.emissionControl.conHea.u_m"
                            }
                        ]
                    }
                }
            ],
            "library": "default",
            "parameter_processing": {
                "function": "default_parameters"
            },
            "ports": [
                {
                    "multi_connection": true,
                    "names": [
                        "dataBus"
                    ],
                    "targets": [
                        "DataBus"
                    ],
                    "use_counter": false,
                    "flow": "undirected",
                    "medium": "data"
                },
                {
                    "multi_connection": true,
                    "names": [
                        "y"
                    ],
                    "targets": [
                        "System"
                    ],
                    "use_counter": false,
                    "flow": "undirected",
                    "medium": "data"
                }
            ],
            "template": "\n    {{package_name}}.Components.BaseClasses.EmissionControl{{ element.name | capitalize}}\n    {{ element.name }}({{ macros.render_parameters(parameters) | safe}})",
            "variant": "default"
        }
    ]
}