---
id: https://w3id.org/my-org/trano
name: trano
title: trano
description: |-
  This is the project description.
license: MIT
see_also:
  - https://my-org.github.io/trano
default_curi_maps:
  - semweb_context
prefixes:
  trano: https://w3id.org/my-org/trano/
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/
  schema: http://schema.org/

  PATO: http://purl.obolibrary.org/obo/PATO_
  example: https://example.org/
  SYSTEM: http://example.org/SYSTEM/
  MATERIAL: http://example.org/MATERIAL/
  CONSTRUCTION: http://example.org/CONSTRUCTION/
  CONTROL: http://example.org/CONTROL/
  OCCUPANCY: http://example.org/OCCUPANCY/
  SPACE: http://example.org/SPACE/
default_prefix: trano
default_range: string

imports:
  - linkml:types

classes:
  Space:
    description: >-
      Represents a Space
    slot_usage:
      parameters:
        range: SpaceParameter
    slots:
      - id
      - name
      - external_boundaries
      - parameters
      - occupancy
      - emissions
    class_uri: schema:Space
  ExternalWall:
    attributes:
      construction:
        description: Construction
        range: Construction
    slots:
      - surface
      - azimuth
      - tilt
  ExternalBoundaries:
    attributes:
      external_walls:
        range: ExternalWall
        multivalued: true
        inlined: true
      floor_on_grounds:
        range: ExternalWall
        multivalued: true
        inlined: true

  Material:
    slots:
      - id
    attributes:
      thermal_conductivity:
        description: Thermal conductivity [W/(m.K)]
        range: float
      specific_heat_capacity:
        description: Specific thermal capacity [J/(kg.K)]
        range: float
      density:
        description: Density [kg/m3]
        range: float
      longwave_emissivity:
        description: Longwave emissivity [1]
        range: float
        ifabsent: float(0.85)
      shortwave_emissivity:
        description: Shortwave emissivity [1]
        range: float
        ifabsent: float(0.85)
  Layer:
    attributes:
      material:
        description: Material
        range: Material
      thickness:
        description: Thickness [m]
        range: float
  Construction:
    slots:
      - id
    attributes:
      layers:
        description: Layers
        range: Layer
        multivalued: true
  Parameter:
    description: >-
      Represents Parameters
    slots:
      - name
    class_uri: schema:Parameter
  Occupancy:
    description: >-
      Represents Occupancy
    slots:
      - parameters
    slot_usage:
      parameters:
        range: OccupancyParameter
    class_uri: schema:Occupancy

  System:
    slots:
      - id
      - inlets
      - outlets
    class_uri: schema:System
  Systems:
    slots:
#      - valve
      - split_valve
      - three_way_valve
      - boiler
      - pump
      - temperature_sensor
    class_uri: schema:Systems

  Emission:
    slots:
      - radiator
      - valve
    class_uri: schema:Emission

  SplitValve:
    is_a: System
    attributes:
      parameters:
        range: SplitValveParameters
  Radiator:
    is_a: System

    slots:
      - parameters
    slot_usage:
      parameters:
        range: RadiatorParameter
  Valve:
    is_a: System
    attributes:
      control:
        range: Control
    slots:
      - parameters
    slot_usage:
      parameters:
        range: ValveParameters
  ThreeWayValve:
    is_a: System
    attributes:
      parameters:
        range: ThreeWayValveParameters
      control:
        range: Control
  Boiler:
    is_a: System
    attributes:
      parameters:
        range: BoilerParameters
      control:
        range: Control

  Pump:
    is_a: System
    attributes:
      parameters:
        range: PumpParameters
      control:
        range: Control

  TemperatureSensor:
    is_a: System


  EmissionControl:
    slots:
      - id
    attributes:
      parameters:
        range: ControlLoopsParameters
        multivalued: false
    class_uri: schema:EmissionControl
  BoilerControl:
    slots:
      - id
    class_uri: schema:BoilerControl
  CollectorControl:
    slots:
      - id
    class_uri: schema:CollectorControl
  ThreeWayValveControl:
    slots:
      - id
    class_uri: schema:CollectorControl

  Control:
    slots:
      - emission_control
      - boiler_control
      - collector_control
      - three_way_valve_control
    class_uri: schema:Control

  OccupancyParameter:
    attributes:
      occupancy:
        description: Occupancy table, each entry switching occupancy on or off
        range: string
        ifabsent: string(3600*{7, 19})
      gain:
        description: Gain to convert from occupancy (per person) to radiant, convective and latent heat in [W/m2]
        range: string
        ifabsent: string([35; 70; 30])
      heat_gain_if_occupied:
        description: Heat gain if occupied
        range: string
        ifabsent: string(1/6/4)

  PumpParameters:
    attributes:
      m_flow_nominal:
        description: Nominal mass flow rate for configuration of pressure curve
        range: float
        ifabsent: float(0.008)
      dp_nominal:
        description: Nominal pressure head for configuration of pressure curve
        range: float
        ifabsent: float(10000)
      per:
        description: Record with performance data
        range: string
      control_input_type:
        description: Control input type
        range: string
      constant_input_set_point:
        description: Constant input set point
        range: float
      vector_of_input_set_points_corresponding_to_stages:
        description: Vector of input set points corresponding to stages
        range: string
#      compute_power_using_similarity_laws:
#        description: = true, compute power exactly, using similarity laws. Otherwise approximate.
#        range: boolean

  SplitValveParameters:
    attributes:
      m_flow_nominal:
        range: float
        required: false
        description: Mass flow rate. Set negative at outflowing ports.
        ifabsent: float(0.008)
      dp_nominal:
        range: string
        required: false
        description: Pa
        ifabsent: string("{10000,-1,-1}")
        aliases:
          - dp_nominal
      fraction_of_nominal_mass_flow_rate_where_transition_to_turbulent_occurs:
        range: float
        required: false
        description: Fraction of nominal mass flow rate where transition to turbulent occurs
        ifabsent: float(0.3)
        aliases:
          - deltaM
#      use_linear_relation_between_m_flow_and_dp_for_any_flow_rate:
#        range: boolean
#        required: false
#        description: = true, use linear relation between m_flow and dp for any flow rate
#        ifabsent: false
#        aliases:
#          - linearized
      time_constant_at_nominal_flow_for_dynamic_energy_and_momentum_balance:
        range: float
        required: false
        description: Time constant at nominal flow for dynamic energy and momentum balance
        aliases:
          - tau
      nominal_mass_flow_rate_for_dynamic_momentum_and_energy_balance:
        range: float
        required: false
        description: Nominal mass flow rate for dynamic momentum and energy balance
        aliases:
          - mDyn_flow_nominal

  ThreeWayValveParameters:
    attributes:
      rangeability:
        range: float
        required: false
        description: Rangeability, R=50...100 typically
        ifabsent: float(50)
        aliases:
          - R
      range_of_significant_deviation_from_equal_percentage_law:
        range: float
        required: false
        description: Range of significant deviation from equal percentage law
        ifabsent: float(0.01)
        aliases:
          - delta0
      dp_fixed_nominal:
        range: string
        required: false
        description: Nominal pressure drop of pipes and other equipment in flow legs at port_1 and port_3
        ifabsent: string("{100,0}")
        aliases:
          - dpFixed_nominal
      fra_k:
        range: float
        required: false
        ifabsent: float(0.7)
        aliases:
          - fraK
      valve_leakage:
        range: string
        required: false
        description: Valve leakage, l=Kv(y=0)/Kv(y=1)
        ifabsent: string("{0.01,0.01}")
        aliases:
          - l
      fraction_of_nominal_flow_rate_where_linearization_starts_if_y_1:
        range: float
        required: false
        description: Fraction of nominal flow rate where linearization starts, if y=1
        ifabsent: float(0.02)
        aliases:
          - deltaM
      use_linear_relation_between_m_flow_and_dp_for_any_flow_rate:
        range: string
        required: false
        description: = true, use linear relation between m_flow and dp for any flow rate
        ifabsent: string("{false, false}")
        aliases:
          - linearized
      Kv:
        range: float
        required: false
        description: Kv (metric) flow coefficient [m3/h/(bar)^(1/2)]
      Cv:
        range: float
        required: false
        description: Cv (US) flow coefficient [USG/min/(psi)^(1/2)]
      Av:
        range: string
        required: false
        description: Av (metric) flow coefficient
      m_flow_nominal:
        range: float
        required: false
        description: Nominal mass flow rate
        ifabsent: float(0.0078)
      dp_valve_nominal:
        range: float
        required: false
        description: Pa
        ifabsent: float(6000)
      rho_std:
        range: float
        required: false
        description: Inlet density for which valve coefficients are defined
  BoilerParameters:
    attributes:
      sca_fac_rad:
        description: Scaling factor to scale the power (and mass flow rate) of the radiator loop
        range: float
        ifabsent: float(1.5)
      dt_boi_nominal:
        description: Nominal temperature difference for boiler loop
        range: float
        ifabsent: float(20)
      dt_rad_nominal:
        description: Nominal temperature difference for radiator loop
        range: float
        ifabsent: float(10)
      coefficients_for_efficiency_curve:
        description: Coefficients for efficiency curve
        range: string
        ifabsent: string({0.9})
      effcur:
        description: Buildings.Fluid.Types.EfficiencyCurves.Constant
        range: string
      temperature_used_to_compute_nominal_efficiency:
        description: Temperature used to compute nominal efficiency (only used if efficiency curve depends on temperature)
        range: float
        ifabsent: float(353.15)
      fuel_type:
        description: Fuel type
        range: string
      nominal_heating_power:
        description: Nominal heating power
        range: float
        ifabsent: float(2000)
      dp_nominal:
        description: Pa
        range: float
        ifabsent: float(5000)
#      use_linear_relation_between_m_flow_and_dp_for_any_flow_rate:
#        description: = true, use linear relation between m_flow and dp for any flow rate
#        range: boolean
#        ifabsent: false
      fraction_of_nominal_flow_rate_where_flow_transitions_to_laminar:
        description: Fraction of nominal flow rate where flow transitions to laminar
        range: float
        ifabsent: float(0.1)
#      if_actual_temperature_at_port_is_computed:
#        description: = true, if actual temperature at port is computed
#        range: boolean
#        ifabsent: false
      tank_volume:
        description: Tank volume
        range: float
        ifabsent: float(0.2)
      height_of_tank_without_insulation:
        description: Height of tank (without insulation)
        range: float
        ifabsent: float(2)
      number_of_volume_segments:
        description: Number of volume segments
        range: float
        ifabsent: float(4)
      thickness_of_insulation:
        description: Thickness of insulation
        range: float
        ifabsent: float(0.002)
      dp:
        description: ""
        range: string
  ValveParameters:
    attributes:
      rangeability:
        range: float
        required: false
        description: Rangeability, R=50...100 typically
        ifabsent: float(50)
        aliases:
          - R
      range_of_significant_deviation_from_equal_percentage_law:
        range: float
        required: false
        description: Range of significant deviation from equal percentage law
        ifabsent: float(0.01)
        aliases:
          - delta0
      dp_fixed_nominal:
        range: float
        required: false
        description: Pa
        ifabsent: float(6000.0)
        aliases:
          - dpFixed_nominal
      valve_leakage:
        range: float
        required: false
        description: Valve leakage, l=Kv(y=0)/Kv(y=1)
        ifabsent: float(0.0001)
        aliases:
          - l
      k_fixed:
        range: string
        required: false
#      use_m_flow_f_dp_else_dp_f_m_flow:
#        range: boolean
#        required: false
#        description: = true, use m_flow = f(dp) else dp = f(m_flow)
#        ifabsent: true
#        aliases:
#          - from_dp
#      use_linear_relation_between_m_flow_and_dp_for_any_flow_rate:
#        range: boolean
#        required: false
#        description: = true, use linear relation between m_flow and dp for any flow rate
#        ifabsent: false
#        aliases:
#          - linearized
      kv:
        range: float
        required: false
        description: Kv (metric) flow coefficient [m3/h/(bar)^(1/2)]
        aliases:
          - Kv
      cv:
        range: float
        required: false
        description: Cv (US) flow coefficient [USG/min/(psi)^(1/2)]
        aliases:
          - Cv
      av:
        range: string
        required: false
        description: Av (metric) flow coefficient
        aliases:
          - Av
      fraction_of_nominal_flow_rate_where_linearization_starts_if_y_1:
        range: float
        required: false
        description: Fraction of nominal flow rate where linearization starts, if y=1
        ifabsent: float(0.02)
        aliases:
          - deltaM
      m_flow_nominal:
        range: float
        required: false
        description: Nominal mass flow rate
        ifabsent: float(0.01)
      dp_valve_nominal:
        range: float
        required: false
        description: Pa
        ifabsent: float(6000)

  RadiatorParameter:
    attributes:
      number_of_elements_used_in_the_discretization:
        range: float
        description: Number of elements used in the discretization
        ifabsent: int(1)
        aliases:
          - nEle
      fraction_radiant_heat_transfer:
        range: float
        description: Fraction radiant heat transfer
        ifabsent: float(0.3)
        aliases:
          - fraRad
      nominal_heating_power_positive_for_heating:
        range: float
        description: Nominal heating power (positive for heating)
        ifabsent: float(2000.0)
        aliases:
          - Q_flow_nominal
      water_inlet_temperature_at_nominal_condition:
        range: float
        description: Water inlet temperature at nominal condition
        ifabsent: float(363.15)
        aliases:
          - T_a_nominal
      water_outlet_temperature_at_nominal_condition:
        range: float
        description: Water outlet temperature at nominal condition
        ifabsent: float(353.15)
        aliases:
          - T_b_nominal
      air_temperature_at_nominal_condition:
        range: float
        description: Air temperature at nominal condition
        ifabsent: float(293.15)
        aliases:
          - TAir_nominal
      radiative_temperature_at_nominal_condition:
        range: float
        description: Radiative temperature at nominal condition
        ifabsent: float(293.15)
        aliases:
          - TRad_nominal
      exponent_for_heat_transfer:
        range: float
        description: Exponent for heat transfer
        ifabsent: float(1.24)
        aliases:
          - n
      fraction_of_nominal_mass_flow_rate_where_transition_to_turbulent_occurs:
        range: float
        description: Fraction of nominal mass flow rate where transition to turbulent occurs
        ifabsent: float(0.01)
        aliases:
          - deltaM
#      use_m_flow_f_dp_else_dp_f_m_flow:
#        range: string
#        description: = true, use m_flow = f(dp) else dp = f(m_flow)
#        ifabsent: string("false")
#        aliases:
#          - from_dp
      dp_nominal:
        range: float
        ifabsent: float(1000)
        required: false
  ControlLoopsParameters:
    attributes:
      k_coo_con:
        description: Gain of controller for cooling control loop
        range: float
        ifabsent: float(0.1)
      ti_coo_con:
        description: Time constant of integrator block for cooling control loop
        range: float
        ifabsent: float(900)
      k_hea_con:
        description: Gain of controller for heating control loop
        range: float
        ifabsent: float(0.1)
      ti_hea_con:
        description: Time constant of integrator block for heating control loop
        range: float
        ifabsent: float(900)
      tim_che:
        description: Threshold time to check the zone temperature status
        range: float
        ifabsent: float(30)
      dt_hys:
        description: Delta between the temperature hysteresis high and low limit
        range: float
        ifabsent: float(0.25)
      loo_hys:
        description: Threshold value to check if the controller output is near zero
        range: float
        ifabsent: float(0.01)

  SpaceParameter:
      attributes:
        sensible_thermal_mass_scaling_factor:
          range: float
          description: Factor for scaling the sensible thermal mass of the zone air volume
          ifabsent: float(1)
          aliases:
            - mSenFac
        floor_area:
          range: float
          required: false
          description: Floor area [m2]
          ifabsent: float(20.0)
          aliases:
            - AFlo
        average_room_height:
          range: float
          required: false
          description: Average room height [m]
          ifabsent: float(2.0)
          aliases:
            - hRoo
#        linearize_emissive_power:
#          range: string
#          description: Set to true to linearize emissive power
#          ifabsent: string(test)
#          aliases:
#            - linearizeRadiation
        nominal_mass_flow_rate:
          range: float
          description: Nominal mass flow rate [kg/s]
          ifabsent: float(0.01)
          aliases:
            - m_flow_nominal
        temperature_initial:
          range: float
          description: Initial temperature [K]
          ifabsent: float(294.15)
          aliases:
            - T_start




  Building:
    tree_root: true
    description: >-
      A holder for Space objects
    attributes:
      materials:
        range: Material
        inlined: true
        inlined_as_list: true
        multivalued: true
      constructions:
        range: Construction
        inlined: true
        inlined_as_list: true
        multivalued: true
      spaces:
        range: Space
        inlined: true
        inlined_as_list: true
        multivalued: true
      systems:
        range: Systems
        inlined: true
        inlined_as_list: true
        multivalued: true


slots:
  id:
    identifier: true
    slot_uri: schema:identifier
    description: A unique identifier for a thing
  name:
    slot_uri: schema:name
    description: A human-readable name for a thing
  parameters:
    slot_uri: schema:parameters
    range: Parameter
    multivalued: false
  inlets:
    slot_uri: schema:inlets
    range: System
    multivalued: true
  outlets:
    slot_uri: schema:inlets
    range: System
    multivalued: true
  occupancy:
    slot_uri: schema:occupancy
    range: Occupancy
    multivalued: false
  radiator:
    range: Radiator
    multivalued: false
    inlined: true
  valve:
    range: Valve
    multivalued: false
    inlined: true
  three_way_valve:
    range: ThreeWayValve
    multivalued: false
    inlined: true
  temperature_sensor:
    range: TemperatureSensor
    multivalued: false
    inlined: true

  split_valve:
    range: SplitValve
    multivalued: false
    inlined: true

  boiler:
    range: Boiler
    multivalued: false
    inlined: true

  pump:
    range: Pump
    multivalued: false
    inlined: true

  emissions:
    slot_uri: schema:emissions
    range: Emission
    multivalued: true
    inlined: true
  emission_control:
    slot_uri: schema:emission_control
    range: EmissionControl
    multivalued: false
    inlined: true
  three_way_valve_control:
    slot_uri: schema:three_way_valve_control
    range: ThreeWayValveControl
    multivalued: false
    inlined: true
  collector_control:
    slot_uri: schema:collector_control
    range: CollectorControl
    multivalued: false
    inlined: true
  boiler_control:
    slot_uri: schema:boiler_control
    range: BoilerControl
    multivalued: false
    inlined: true
  external_boundaries:
    slot_uri: schema:external_boundaries
    range: ExternalBoundaries
    multivalued: false
  surface:
    slot_uri: schema:surface
    range: float
  azimuth:
    slot_uri: schema:azimuth
    range: float
  tilt:
    slot_uri: schema:tilt
    range: string

enums:
  ControlType:
    permissible_values:
      Ahu:
      Boiler:
      Collector:
      Emission:
      VAV:
      ThreeWayValve:
